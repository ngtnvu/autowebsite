(function(){"*** last updated at 201504221800 ***";var APPIER_TRACK_API_VERSION,APPIER_TRACK,APPIER_COOKIE_UID,APPIER_UNIQUE_ID,APPIER_PV_COUNTER,APPIER_PAGE_ISVIEW,APPIER_RANDOM_UNIQUE_ID;APPIER_TRACK_API_VERSION=1;APPIER_TRACK="appier_track_2";APPIER_COOKIE_UID="appier_uid_1";APPIER_UNIQUE_ID="appier_unique_id_";APPIER_RANDOM_UNIQUE_ID="appier_random_unique_id_";APPIER_PV_COUNTER="appier_pv_counter";APPIER_PAGE_ISVIEW="appier_page_isView";APPIER_IS_LCCV="appier_is_LCCV";window.Appier={SHA1:function(s){function U(a,b,c){while(0<c--)a.push(b)}function L(a,b){return a<<b|a>>>32-b}function P(a,b,c){return a^b^c}function A(a,b){var c=(b&65535)+(a&65535),d=(b>>>16)+(a>>>16)+(c>>>16);return(d&65535)<<16|c&65535}var B="0123456789abcdef";return function(a){var c=[],d=a.length*4,e;for(var i=0;i<d;i++){e=a[i>>2]>>(3-i%4)*8;c.push(B.charAt(e>>4&15)+B.charAt(e&15))}return c.join("")}(function(a,b){var c,d,e,f,g,h=a.length,v=1732584193,w=4023233417,x=2562383102,y=271733878,z=3285377520,M=[];U(M,1518500249,20);U(M,1859775393,20);U(M,2400959708,20);U(M,3395469782,20);a[b>>5]|=128<<24-b%32;a[(b+65>>9<<4)+15]=b;for(var i=0;i<h;i+=16){c=v;d=w;e=x;f=y;g=z;for(var j=0,O=[];j<80;j++){O[j]=j<16?a[j+i]:L(O[j-3]^O[j-8]^O[j-14]^O[j-16],1);var k=function(a,b,c,d,e){var f=(e&65535)+(a&65535)+(b&65535)+(c&65535)+(d&65535),g=(e>>>16)+(a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(f>>>16);return(g&65535)<<16|f&65535}(j<20?function(t,a,b){return t&a^~t&b}(d,e,f):j<40?P(d,e,f):j<60?function(t,a,b){return t&a^t&b^a&b}(d,e,f):P(d,e,f),g,M[j],O[j],L(c,5));g=f;f=e;e=L(d,30);d=c;c=k}v=A(v,c);w=A(w,d);x=A(x,e);y=A(y,f);z=A(z,g)}return[v,w,x,y,z]}(function(t){var a=[],b=255,c=t.length*8;for(var i=0;i<c;i+=8){a[i>>5]|=(t.charCodeAt(i/8)&b)<<24-i%32}return a}(s).slice(),s.length*8))},uuid4:function(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=0|(a+16*Math.random())%16;return a=Math.floor(a/16),("x"==b?c:8|7&c).toString(16)});return b},parseQuery:function(query){var urlParams;var match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){tempval="";try{tempval=decodeURIComponent(s.replace(pl," "))}catch(e){}return tempval};urlParams={};while(match=search.exec(query))urlParams[decode(match[1])]=decode(match[2]);return urlParams},setUniqueId:function(action_id,unique_id,cookie_domain){var today,expire,domain_str,nDays;today=new Date;expire=new Date;if(cookie_domain!=null){domain_str="; domain="+cookie_domain}else{domain_str=""}nDays=7;expire.setTime(today.getTime()+36e5*nDays);return document.cookie=APPIER_UNIQUE_ID+action_id+"="+window.Appier.SHA1(unique_id)+";path=/"+domain_str+";expires="+expire.toGMTString()},getAppierCookieValue:function(target){var cookie,i,target_val,j;cookie=document.cookie;i=cookie.indexOf(target);target_val="";if(i>=0){i+=target.length+"=".length;j=cookie.indexOf(";",i);if(j===-1){target_val=cookie.substr(i)}else{target_val=cookie.substr(i,j-i)}}return target_val},appierPVTrack:function(action_id,counter,isCountReload,track_id){var today,expire,pv_counter,isView,domain_str,nHours,isAppier_params_exist;today=new Date;expire=new Date;pv_counter=this.getAppierCookieValue(APPIER_PV_COUNTER);if(isCountReload===false){isView=this.getAppierCookieValue(APPIER_PAGE_ISVIEW)}else{isView="false"}if(pv_counter===""){pv_counter=0;isView="true"}else if(isView!=="true"){pv_counter=parseInt(pv_counter);pv_counter+=1}else{return}domain_str="";nHours=1;expire.setTime(today.getTime()+36e5*nHours);document.cookie=APPIER_PV_COUNTER+"="+pv_counter+";path=/"+domain_str+";expires="+expire.toGMTString();if(isCountReload===false){document.cookie=APPIER_PAGE_ISVIEW+"="+"true"+";path="+location.pathname+domain_str+";expires="+expire.toGMTString()}else{document.cookie=APPIER_PAGE_ISVIEW+"="+"false"+";path="+location.pathname+domain_str+";expires="+expire.toGMTString()}isAppier_params_exist=this.getAppierCookieValue(APPIER_TRACK).indexOf("_atrk_bi");if(isAppier_params_exist>=0&&pv_counter===counter){return this.appierTrack(action_id,{},track_id)}},appierTrack:function(action_id,opts,track_id){var cookie,qs,escaped_qs,track_qs,i,j,tqs,path_urlencode,uidstr,the_url,tracking_script,script_element,oImg;var action_number=1,temp_url;var appier_utmz=decodeURIComponent(this.getAppierCookieValue("appier_utmz"));var appier_utmz_json;if(!appier_utmz){appier_utmz_json={}}else{appier_utmz_json=JSON.parse(appier_utmz)}opts==null&&(opts={});cookie=document.cookie;qs=window.location.search.substr(1);escaped_qs=escape(qs);track_qs="";i=cookie.indexOf(APPIER_TRACK);if(i>=0){i+=APPIER_TRACK.length+"=".length;j=cookie.indexOf(";",i);if(j===-1){track_qs=cookie.substr(i)}else{track_qs=cookie.substr(i,j-i)}track_qs=unescape(track_qs)}else{if(action_id=="PnR66y3z9ObVkQs")return;return this.appierVTTrack(action_id,opts,track_id)}tqs=this.parseQuery(track_qs);path_urlencode=encodeURIComponent(window.location.pathname);uidstr=this.getAppierCookieValue(APPIER_COOKIE_UID);if(navigator.appVersion.indexOf("MSIE 6")>=0){the_url="http:"}else{the_url="https:"===document.location.protocol?"https:":"http:"}if(track_id!=null||track_id!=undefined){the_url+="//t0.c.appier.net/web2/"+track_id+"/?gif=0&action_id="+action_id+"&path="+path_urlencode+"&cookie_uid="+uidstr+"&api_version="+APPIER_TRACK_API_VERSION}else{the_url+="//t0.c.appier.net/web?gif=0&action_id="+action_id+"&path="+path_urlencode+"&cookie_uid="+uidstr+"&api_version="+APPIER_TRACK_API_VERSION}if(qs){the_url+="&escaped_qs="+escaped_qs}if("_atrk_c"in tqs){the_url+="&cid="+tqs["_atrk_c"]}if("_atrk_cr"in tqs){the_url+="&crid="+tqs["_atrk_cr"]}if("_atrk_pt"in tqs){the_url+="&partner_id="+tqs["_atrk_pt"]}if("_atrk_ia"in tqs){the_url+="&idfa="+tqs["_atrk_ia"]}if("_atrk_ia1"in tqs){the_url+="&idfasha1="+tqs["_atrk_ia1"]}if("_atrk_ia5"in tqs){the_url+="&idfamd5="+tqs["_atrk_ia5"]}if("_atrk_ai"in tqs){the_url+="&androidid="+tqs["_atrk_ai"]}if("_atrk_ai1"in tqs){the_url+="&androididsha1="+tqs["_atrk_ai1"]}if("_atrk_ai5"in tqs){the_url+="&androididmd5="+tqs["_atrk_ai5"]}if("_atrk_di"in tqs){the_url+="&did="+tqs["_atrk_di"]}if("_atrk_di1"in tqs){the_url+="&didsha1="+tqs["_atrk_di1"]}if("_atrk_di5"in tqs){the_url+="&didmd5="+tqs["_atrk_di5"]}if("_atrk_ma"in tqs){the_url+="&mac="+tqs["_atrk_ma"]}if("_atrk_ma1"in tqs){the_url+="&macsha1="+tqs["_atrk_ma1"]}if("_atrk_ma5"in tqs){the_url+="&macmd5="+tqs["_atrk_ma5"]}if("_atrk_h1"in tqs){the_url+="&ho_sub1="+tqs["_atrk_h1"]}if("_atrk_uu"in tqs){the_url+="&uu="+tqs["_atrk_uu"]}if("_atrk_bi"in tqs){the_url+="&bidobjid="+tqs["_atrk_bi"]}if("_atrk_ri"in tqs){the_url+="&reqid="+tqs["_atrk_ri"]}if("_atrk_f"in tqs){the_url+="&appierfsk="+tqs["_atrk_f"]}if(opts.action_param1!=null){the_url+="&action_param1="+opts.action_param1}if(opts.action_param2!=null){the_url+="&action_param2="+opts.action_param2}if(opts.action_param3!=null){the_url+="&action_param3="+opts.action_param3}if(opts.callback!=null||opts.href!=null){the_url+="&callback=window.Appier.appierTrackCallback"}if(opts.convertrule!=null){if(this.getAppierCookieValue(APPIER_IS_LCCV)==""){the_url+="&convertrule=1"}else{the_url+="&convertrule=0"}}if(appier_utmz_json.csr){the_url+="&appier_utmz_utmcsr="+appier_utmz_json.csr}if(opts.total_revenue!=null){the_url+="&appier_rv="+opts.total_revenue}if(opts.action_num!=null){action_number=Number(opts.action_num);if(action_number<1){action_number=1}the_url+="&cv_number="+opts.action_num}temp_url=the_url;for(i=0;i<action_number;i++){if(opts.uu!=null){temp_url+="&webuu="+window.Appier.SHA1(opts.uu.toString())+"_"+i}else if(this.getAppierCookieValue(APPIER_UNIQUE_ID+action_id)!==""){temp_url+="&webuu="+this.getAppierCookieValue(APPIER_UNIQUE_ID+action_id)+"_"+i}else if(opts.unique_key=="true"){if(this.getAppierCookieValue(APPIER_RANDOM_UNIQUE_ID+action_id)==""){document.cookie=APPIER_RANDOM_UNIQUE_ID+action_id+"="+this.uuid4()+";path=/"}temp_url+="&webuu="+this.getAppierCookieValue(APPIER_RANDOM_UNIQUE_ID+action_id)+"_"+i}tracking_script=document.createElement("script");tracking_script.async=true;tracking_script.src=temp_url;script_element=document.getElementsByTagName("script")[0];script_element.parentNode.insertBefore(tracking_script,script_element);temp_url=the_url}the_url="https:"===document.location.protocol?"https:":"http:";the_url+="//d17m68fovwmgxj.cloudfront.net/additional_postback/"+action_id+".js";tracking_script=document.createElement("script");tracking_script.async=true;tracking_script.src=the_url;script_element=document.getElementsByTagName("script")[0];script_element.parentNode.insertBefore(tracking_script,script_element);return window.Appier.opts=opts},appierTrackCallback:function(data){var opts,e;opts=window.Appier.opts;window.Appier.opts={};if(opts.href!=null){window.location.href=opts.href;return}if(opts.callback!=null){try{return opts.callback.apply(opts.callback_context||window,opts.callback_params||[])}catch(e$){return e=e$}}},appierVTTrack:function(action_id,opts,track_id){var path_urlencode,uidstr,the_url,tracking_script,script_element,oImg;var appier_utmz=decodeURIComponent(this.getAppierCookieValue("appier_utmz"));var appier_utmz_json;var action_number=1,temp_url;if(!appier_utmz){appier_utmz_json={}}else{appier_utmz_json=JSON.parse(appier_utmz)}opts==null&&(opts={});path_urlencode=encodeURIComponent(window.location.pathname);uidstr=this.getAppierCookieValue(APPIER_COOKIE_UID);the_url="https:"===document.location.protocol?"https:":"http:";the_url+="//t0.c.appier.net/web2/"+track_id+"/?gif=0&action_id="+action_id+"&path="+path_urlencode+"&cookie_uid="+uidstr+"&api_version="+APPIER_TRACK_API_VERSION;if(appier_utmz_json.csr){the_url+="&appier_utmz_utmcsr="+appier_utmz_json.csr}if(opts.total_revenue!=null){the_url+="&appier_rv="+opts.total_revenue}if(opts.action_num!=null){action_number=Number(opts.action_num);if(action_number<1){action_number=1}the_url+="&cv_number="+opts.action_num}if(opts.action_param1!=null){the_url+="&action_param1="+opts.action_param1}if(opts.action_param2!=null){the_url+="&action_param2="+opts.action_param2}if(opts.action_param3!=null){the_url+="&action_param3="+opts.action_param3}if(opts.callback!=null||opts.href!=null){the_url+="&callback=window.Appier.appierTrackCallback"}temp_url=the_url;for(i=0;i<action_number;i++){if(opts.uu!=null){temp_url+="&webuu="+window.Appier.SHA1(opts.uu)+"_"+i}else if(this.getAppierCookieValue(APPIER_UNIQUE_ID+action_id)!==""){temp_url+="&webuu="+this.getAppierCookieValue(APPIER_UNIQUE_ID+action_id)+"_"+i}else if(opts.unique_key=="true"){if(this.getAppierCookieValue(APPIER_RANDOM_UNIQUE_ID+action_id)==""){document.cookie=APPIER_RANDOM_UNIQUE_ID+action_id+"="+this.uuid4()+";path=/"}temp_url+="&webuu="+this.getAppierCookieValue(APPIER_RANDOM_UNIQUE_ID+action_id)+"_"+i}tracking_script=document.createElement("script");tracking_script.async=true;tracking_script.src=temp_url;script_element=document.getElementsByTagName("script")[0];script_element.parentNode.insertBefore(tracking_script,script_element);temp_url=the_url}the_url="https:"===document.location.protocol?"https:":"http:";the_url+="//d17m68fovwmgxj.cloudfront.net/additional_postback/"+action_id+".js";tracking_script=document.createElement("script");tracking_script.async=true;tracking_script.src=the_url;script_element=document.getElementsByTagName("script")[0];script_element.parentNode.insertBefore(tracking_script,script_element);return window.Appier.opts=opts},set_domain:function(cookie_domain){var today,expire,uidstr,domain_str,nDays,param_cid_loc,qs,escaped_qs;today=new Date;expire=new Date;uidstr=this.getAppierCookieValue(APPIER_COOKIE_UID);if(uidstr===""){uidstr=this.uuid4()}if(cookie_domain!=null){domain_str="; domain="+cookie_domain}else{domain_str=""}if(uidstr!==""){nDays=365*10;expire.setTime(today.getTime()+36e5*24*nDays);document.cookie=APPIER_COOKIE_UID+"="+uidstr+";path=/"+domain_str+";expires="+expire.toGMTString()}param_cid_loc=window.location.search.search(/[?&]_atrk_bi=/);if(param_cid_loc>=0){document.cookie=APPIER_IS_LCCV+"=true"+";path=/"+domain_str;qs=window.location.search.substr(1);nDays=30;expire.setTime(today.getTime()+36e5*24*nDays);escaped_qs=escape(qs);return document.cookie=APPIER_TRACK+"="+escaped_qs+";path=/"+domain_str+";expires="+expire.toGMTString()}},parse_appier_info:function(){var appier_context;this.appier_info={};try{appier_context=null;scriptEls=document.getElementsByTagName("script");for(var i=0;i<scriptEls.length;i++){scriptEl=scriptEls[i];if(scriptEl.getAttribute("type")=="text/appier"){appier_context=scriptEl.innerHTML;this.appier_info=JSON.parse(appier_context);this.aLog(this.appier_info);break}}}catch(e){this.aLog(e,"error")}},appierTrackRM:function(action_id,opts){var the_url,tracking_script,script_element,_k,_v,_keys;the_url="https:"===document.location.protocol?"https:":"http:";the_url+="//t0.c.appier.net/web?gif=0&action_id="+action_id+"&api_version="+APPIER_TRACK_API_VERSION;opts==null&&(opts={});_keys=Object.keys(this.appier_info);for(var i in _keys){_k=_keys[i];if(_k&&this.appier_info[_k]){_v=encodeURIComponent(this.appier_info[_k]);the_url+="&"+_k+"="+_v}}the_url+="&action_param1="+"richmedia";_keys=["action_param2","action_param3"];for(var i in _keys){_k=_keys[i];if(_k&&opts[_k]){_v=encodeURIComponent(opts[_k]);the_url+="&"+_k+"="+_v}}if(opts["uu"]){_v=encodeURIComponent(window.Appier.SHA1(opts["uu"]));the_url+="&webuu="+_v}if(!!opts.callback||!!opts.href){the_url+="&callback=window.Appier.appierTrackCallback"}this.aLog(the_url);this.opts=opts;tracking_script=document.createElement("script");tracking_script.async=true;tracking_script.src=the_url;script_element=document.getElementsByTagName("script")[0];script_element.parentNode.insertBefore(tracking_script,script_element)},initWebTracking:function(debug){this.debug=!!debug;this.set_domain()},initRichmedia:function(debug){this.debug=!!debug;this.parse_appier_info()}};window.Appier.initWebTracking()}).call(this);